{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Standard Contract Schema",
  "description": "Schema for extended-tier skills with standard contracts",
  "type": "object",
  "properties": {
    "skill_id": {
      "type": "string",
      "pattern": "^[a-z][a-z0-9-]*$",
      "description": "Unique skill identifier"
    },
    "version": {
      "type": "string",
      "pattern": "^\\d+\\.\\d+\\.\\d+$",
      "description": "Semantic version"
    },
    "input": {
      "type": "object",
      "description": "Input schema definition",
      "properties": {
        "schema": {
          "type": "object",
          "description": "JSON Schema for input validation"
        },
        "required_fields": {
          "type": "array",
          "items": { "type": "string" },
          "description": "List of required input fields"
        }
      }
    },
    "output": {
      "type": "object",
      "description": "Output schema definition",
      "properties": {
        "schema": {
          "type": "object",
          "description": "JSON Schema for output validation"
        },
        "status_field": {
          "type": "string",
          "default": "status",
          "description": "Field indicating success/failure"
        }
      }
    },
    "errors": {
      "type": "array",
      "description": "Known error codes",
      "items": {
        "type": "object",
        "properties": {
          "code": { "type": "string" },
          "description": { "type": "string" }
        }
      }
    },
    "constraints": {
      "type": "object",
      "description": "Optional execution constraints"
    }
  },
  "required": ["skill_id", "version"]
}
